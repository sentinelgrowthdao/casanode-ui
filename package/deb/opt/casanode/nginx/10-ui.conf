# Casanode UI - served from /opt/casanode/www

# Root location serves the SPA
location /
{
	root /opt/casanode/www;
	try_files $uri $uri/ /index.html;
	index index.html;
}

# Cache static assets aggressively (fingerprinted)
location ~* \.(?:js|css|woff2?|ttf|otf|eot)$
{
	root /opt/casanode/www;
	access_log off;
	add_header Cache-Control "public, max-age=31536000, immutable";
	try_files $uri =404;
}

# Images and media
location ~* \.(?:png|jpe?g|gif|svg|ico|webp)$
{
	root /opt/casanode/www;
	access_log off;
	add_header Cache-Control "public, max-age=31536000";
	try_files $uri =404;
}